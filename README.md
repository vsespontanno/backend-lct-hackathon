# Backend Hackathon - –ß–µ—Ä–Ω–∞—è –ñ–µ–º—á—É–∂–∏–Ω–∞

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ Go-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –≥–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

## üöÄ –û –ø—Ä–æ–µ–∫—Ç–µ

REST API –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –æ–±—É—á–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—ã—Ä–∞—â–∏–≤–∞—é—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞, –ø—Ä–æ—Ö–æ–¥—è –æ–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Ç–µ—Å—Ç—ã.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–Ø–∑—ã–∫:** Go 1.21\+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Gin
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker \+ Docker-compose
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** Swagger 2.0 
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** –ù–∞—Ç–∏–≤–Ω—ã–µ SQL

## üìö Swagger –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

<http://localhost:8080/swagger/index.html>

### –û—Å–Ω–æ–≤–Ω—ã–µ DTO –º–æ–¥–µ–ª–∏

#### Pet (–ü–∏—Ç–æ–º–µ—Ü)

```
{
  "id": 1,
  "name": "–ú–µ–¥–≤–µ–∂–æ–Ω–æ–∫",
  "age": 2,
  "exp": 150
}
```

#### **Prize (–ü—Ä–∏–∑—ã)**

```
{
  "type": "–∫–µ—à–±–µ–∫",
  "title": "–ö–µ—à–±–µ–∫ 5%",
  "description": "–ö–µ—à–±–µ–∫ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–∫—É–ø–∫–∏"
}
```

#### **Quiz (–¢–µ—Å—Ç—ã)**

```
{
  "id": 1,
  "title": "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç–µ—Å—Ç",
  "content": "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –±—é–¥–∂–µ—Ç?",
  "options": ["–í–∞—Ä–∏–∞–Ω—Ç 1", "–í–∞—Ä–∏–∞–Ω—Ç 2", "–í–∞—Ä–∏–∞–Ω—Ç 3"],
  "correctAnswer": "1"
}
```

## **üîå API Endpoints**

### **üêª Pet Management**

#### **`POST /pet/name`**

**–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–∏—Ç–æ–º—Ü–∞**

**Request Body:**

```
{
  "userID": 123,
  "name": "–ú–µ–¥–≤–µ–∂–æ–Ω–æ–∫"
}
```

**Responses:**

* `200 OK` - –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

* `400 Bad Request` - –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å

* `500 Internal Server Error` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

#### **`POST /pet/xp`**

**–î–æ–±–∞–≤–∏—Ç—å –æ–ø—ã—Ç –ø–∏—Ç–æ–º—Ü—É**

**Request Body:**

```
{
  "userID": 123,
  "exp": 100
}
```

**Responses:**

* `200 OK` - –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

* `400 Bad Request` - –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å

* `500 Internal Server Error` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

#### **`GET /pet/{id}`**

**–ü–æ–ª—É—á–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞ –ø–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**Parameters:**

* `id` (integer, path) - User ID

**Response:**

```
{
  "id": 1,
  "name": "–ú–µ–¥–≤–µ–∂–æ–Ω–æ–∫",
  "age": 2,
  "exp": 150
}
```

**Responses:**

* `200 OK` - –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

* `400 Bad Request` - –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å

* `404 Not Found` - –ü–∏—Ç–æ–º–µ—Ü –Ω–µ –Ω–∞–π–¥–µ–Ω

* `500 Internal Server Error` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### **üéÅ Prizes Management**

#### **`POST /prizes/{id}/available`**

**–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∏–∑—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**Parameters:**

* `id` (integer, path) - User ID

**Response:**

```
{
  "prizes": [
    {
      "type": "–∫–µ—à–±–µ–∫",
      "title": "–ö–µ—à–±–µ–∫ 5%",
      "description": "–ö–µ—à–±–µ–∫ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–∫—É–ø–∫–∏"
    }
  ]
}
```

#### **`GET /prizes/{id}/my`**

**–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**Parameters:**

* `id` (integer, path) - User ID

**Response:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `/prizes/{id}/available`

### **üìö Learning Content**

#### **`GET /sections`**

**–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–µ–∫—Ü–∏–∏ —Å –∞–π—Ç–µ–º–∞–º–∏**

**Response:**

```
[
  {
    "id": 1,
    "title": "–û—Å–Ω–æ–≤—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤",
    "items": [
      {
        "itemID": 1,
        "sectionID": 1,
        "title": "–ß—Ç–æ —Ç–∞–∫–æ–µ –±—é–¥–∂–µ—Ç",
        "isTest": false
      }
    ]
  }
]
```

#### **`POST /sections`**

**–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ–∫—Ü–∏—é**

**Request Body:**

```
{
  "title": "–ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è"
}
```

**Response:** `201 Created` —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–µ–∫—Ü–∏–∏

#### **`GET /sections/{id}/items`**

**–ü–æ–ª—É—á–∏—Ç—å –∞–π—Ç–µ–º—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ–∫—Ü–∏–∏**

**Parameters:**

* `id` (integer, path) - Section ID

**Response:** –ú–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–µ–∫—Ü–∏–∏

#### **`POST /sections/{id}/items`**

**–°–æ–∑–¥–∞—Ç—å –∞–π—Ç–µ–º –≤ —Å–µ–∫—Ü–∏–∏**

**Parameters:**

* `id` (integer, path) - Section ID

**Request Body:**

```
{
  "sectionId": 1,
  "itemId": 1,
  "title": "–ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç",
  "isTest": true
}
```

**Response:** `201 Created` —Å –¥–∞–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞

### **üéØ Quiz Management**

#### **`GET /quiz/{id}`**

**–ü–æ–ª—É—á–∏—Ç—å –∫–≤–∏–∑ –ø–æ ID**

**Parameters:**

* `id` (integer, path) - Quiz ID

**Response:**

```
{
  "id": 1,
  "title": "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç–µ—Å—Ç",
  "content": "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –±—é–¥–∂–µ—Ç?",
  "options": ["–í–∞—Ä–∏–∞–Ω—Ç 1", "–í–∞—Ä–∏–∞–Ω—Ç 2", "–í–∞—Ä–∏–∞–Ω—Ç 3"],
  "correctAnswer": "1"
}
```

### **üìñ Theory Management**

#### **`GET /theory/{id}`**

**–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–æ—Ä–∏—é –ø–æ ID**

**Parameters:**

* `id` (integer, path) - Theory ID

**Response:**

```
{
  "id": 1,
  "title": "–û—Å–Ω–æ–≤—ã –±—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",
  "content": "–ë—é–¥–∂–µ—Ç - —ç—Ç–æ –ø–ª–∞–Ω –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤..."
}
```

#### **`POST /theory`**

**–°–æ–∑–¥–∞—Ç—å —Ç–µ–æ—Ä–∏—é**

**Request Body:**

```
{
  "id": 1,
  "title": "–ù–æ–≤–∞—è —Ç–µ–æ—Ä–∏—è",
  "content": "–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–µ–æ—Ä–∏–∏..."
}
```

**Response:** `201 Created` —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–µ–æ—Ä–∏–∏

### **‚úÖ Daily Tasks**

#### **`GET /tasks/daily`**

**–ü–æ–ª—É—á–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è**

**Response:**

```
[
  {
    "ID": 1,
    "Title": "–ü—Ä–æ–π–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç"
  }
]
```

## **üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**

### **–ú–∏–≥—Ä–∞—Ü–∏–∏**

* `migrations/` - SQL —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π

* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

* –í–µ—Ä—Å–∏–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π

### **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã**

* `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

* `pets` - –ü–∏—Ç–æ–º—Ü—ã

* `prizes` - –ü—Ä–∏–∑—ã

* `sections` - –†–∞–∑–¥–µ–ª—ã –æ–±—É—á–µ–Ω–∏—è

* `section_items` - –≠–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–∑–¥–µ–ª–æ–≤

* `theory` - –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

* `quiz` - –¢–µ—Å—Ç—ã –∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã

* `tasks` - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

## **üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞**

### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**

* Docker & Docker-compose

* Go 1.21\+

### **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

```
git clone <repository-url>
cd backend-hackathon
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

```
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

3. **–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**

```
docker-compose up -d
```

4. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

```
go run cmd/server/main.go
```

### **–î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º**

* **API:** [http://localhost:8080](http://localhost:8080/)

* **Swagger UI:** <http://localhost:8080/swagger/index.html>

* **PostgreSQL:** localhost:5432

## **üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env` —Ñ–∞–π–ª–µ:

```
DB_HOST=localhost
DB_PORT=5432
DB_NAME=hackathon
DB_USER=user
DB_PASSWORD=password
SERVER_PORT=8080
```

## **üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```
{
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

**–°—Ç–∞—Ç—É—Å –∫–æ–¥—ã:**

* `200` - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å

* `201` - –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ

* `400` - –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å

* `404` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

* `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## **üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–π –ª–æ–≥–≥–µ—Ä:

* –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARN, ERROR)

* JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è production

* –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–ª—è

## **ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**

### **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

```
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ swag
go install github.com/swaggo/swag/cmd/swag@latest

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
swag init -g cmd/server/main.go

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
swag fmt
swag init
```

### **Code Style**

* Go fmt

* Go vet

* –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã Go Code Review

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

```
go test ./...
```

### **–ú–∏–≥—Ä–∞—Ü–∏–∏**

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π –≤ –ø–∞–ø–∫—É `migrations/` —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:

* `{timestamp}_description.up.sql` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

* `{timestamp}_description.down.sql` - –û—Ç–∫–∞—Ç

## **üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è**

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Ñ–∞–π–ª–µ LICENSE.
